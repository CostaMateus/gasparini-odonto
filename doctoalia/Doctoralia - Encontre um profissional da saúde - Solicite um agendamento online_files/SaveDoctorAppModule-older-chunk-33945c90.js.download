(window.webpackJsonp=window.webpackJsonp||[]).push([[254],{"+Kzw":function(t,e,r){"use strict";r.d(e,"b",(function(){return p}));var n=r("rdO9"),o=r("eNOx");function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i=a({},o.a,(function(t){return function(e){return t.appConfig[e]}})),c={state:{appConfig:{}},mutations:a({},o.b,(function(t,e){t.appConfig=e})),getters:i},u=r("R6JH");function s(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var f=!1,v=function(t,e){f||(!function(t){t.registerModule("config",c)}(e),e.commit(o.b,t.getAppConfig()),f=!0)},p=function(t){t.prototype.$localStorageName||(t.prototype.$localStorageName="doctor_questions_panel",Object.defineProperty(t.prototype,"$localStorage",{value:new n.a(localStorage)}))},l=function(){ZLApp.Modules.AffixTouchpoint&&ZLApp.Modules.AffixTouchpoint().setupAffix()};e.a=function(t,e,r){return d.apply(this,arguments)};function d(){var t;return t=regeneratorRuntime.mark((function t(e,r,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.prototype.$config=e,e.isProd()&&(n.config.errorHandler=function(t){Object(u.a)(t)}),p(n),r&&v(e,r),l();case 5:case"end":return t.stop()}}),t)})),(d=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){s(a,n,o,i,c,"next",t)}function c(t){s(a,n,o,i,c,"throw",t)}i(void 0)}))}).apply(this,arguments)}},"1LIR":function(t,e,r){},"3Ygs":function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n="MODULE_SAVE_DOCTOR_TO_FAVORITES"},C4jv:function(t,e,r){"use strict";e.a={methods:{registerStoreModule:function(t,e){var r=this.$store;r&&r.state&&(r.state[t]||r.registerModule(t,e))}}}},"U/GP":function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return o}));var n="ACTION_FAVORITE_DOCTOR_REMOVE",o="ACTION_FAVORITE_DOCTOR_SAVE"},ZJAR:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n="GETTER_FAVORITE_DOCTORS_IDS"},eNOx:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return o}));var n="GETTER_CONFIG_GET_PARAM",o="MUTATION_CONFIG_SET_APP_CONFIG"},fJoI:function(t,e,r){"use strict";var n=r("bKGl"),o=r("XiPH"),a=r("Qyje"),i=r.n(a),c=r("8dGq"),u=r("uEvc");function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function l(){var t;return t=regeneratorRuntime.mark((function t(e,r){var a,s,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.paramsSerializer=function(t){return i.a.stringify(t,{arrayFormat:"brackets"})},t.prev=1,a=c.a.axios){t.next=5;break}return t.abrupt("return",Promise.reject(new Error("You have to setup axios before using it.")));case 5:return t.next=7,a(e);case 7:if(s=t.sent,v=Object(n.camelizeKeys)(s.data),void 0!==r){t.next=11;break}return t.abrupt("return",v);case 11:return t.abrupt("return",f({},Object(o.b)(v,r)));case 14:return t.prev=14,t.t0=t.catch(1),t.abrupt("return",Promise.reject(u.a.getAxiosError(t.t0)));case 17:case"end":return t.stop()}}),t,null,[[1,14]])})),(l=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){p(a,n,o,i,c,"next",t)}function c(t){p(a,n,o,i,c,"throw",t)}i(void 0)}))}).apply(this,arguments)}e.a=function(t,e){return l.apply(this,arguments)}},gIfZ:function(t,e,r){"use strict";r.r(e);var n=r("Fw5N"),o=r("XuX8"),a=r.n(o),i=r("d6hQ"),c=r("+Kzw"),u=r("L2JU"),s=r("waCf"),f=r("3Ygs"),v=r("laT0");a.a.use(u.a);var p,l,d,g=new u.a.Store({modules:(p={},l=f.a,d=v.a,l in p?Object.defineProperty(p,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):p[l]=d,p),plugins:[Object(s.j)()]}),b=r("glVZ"),O=r("zYMa");e.default=function(t,e,r,o,u,s){Object(c.a)(e,g,a.a).then((function(){a.a.prototype.$gateKeeper=r,a.a.use(i.b),a.a.use(n.b,{i18n:u}),t.forEach((function(t){new a.a({gtm:o,i18n:u,el:t,store:g,notifications:s,components:{SaveDoctorApp:O.a}})}))}));var v=e.getAppConfig().FAVORITE_DOCTORS;g.commit("".concat(f.a,"/").concat(b.c),v)}},glVZ:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return a}));var n="MUTATION_FAVORITE_DOCTORS_ADD_ID",o="MUTATION_FAVORITE_DOCTORS_SET_IDS",a="MUTATION_FAVORITE_DOCTORS_REMOVE_ID"},laT0:function(t,e,r){"use strict";var n=r("fJoI");function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a,i,c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,a;return e=t,a=[{key:"fetchFavoriteDoctors",value:function(){return Object(n.a)({method:"get",url:"/api/v3/favorites/doctor"})}},{key:"saveDoctorToFavorites",value:function(t){return Object(n.a)({method:"post",url:"/api/v3/favorites/doctor",data:{doctor_id:t}})}},{key:"removeDoctorFromFavorites",value:function(t){return Object(n.a)({method:"delete",url:"/api/v3/favorites/doctor/".concat(t)})}}],(r=null)&&o(e.prototype,r),a&&o(e,a),t}(),u=r("R6JH"),s=r("ZJAR"),f=r("glVZ"),v=r("U/GP");function p(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function l(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){p(a,n,o,i,c,"next",t)}function c(t){p(a,n,o,i,c,"throw",t)}i(void 0)}))}}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var g=d({},s.a,(function(t){return t.favoriteDoctors})),b=(d(a={},f.c,(function(t,e){t.favoriteDoctors=e})),d(a,f.a,(function(t,e){t.favoriteDoctors.push(e)})),d(a,f.b,(function(t,e){t.favoriteDoctors=t.favoriteDoctors.filter((function(t){return t!==e}))})),a),O=(d(i={},v.b,(function(t,e){return l(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.commit,r.prev=1,r.next=4,c.saveDoctorToFavorites(e);case 4:n(f.a,e),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),Object(u.a)(r.t0);case 10:case"end":return r.stop()}}),r,null,[[1,7]])})))()})),d(i,v.a,(function(t,e){return l(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.commit,r.prev=1,r.next=4,c.removeDoctorFromFavorites(e);case 4:n(f.b,e),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),Object(u.a)(r.t0);case 10:case"end":return r.stop()}}),r,null,[[1,7]])})))()})),i);e.a={namespaced:!0,state:{favoriteDoctors:[]},getters:g,mutations:b,actions:O}},w6I6:function(t,e,r){"use strict";var n=r("1LIR");r.n(n).a},zYMa:function(t,e,r){"use strict";var n=r("L2JU"),o=r("7whS"),a=r("0Xos"),i=r("k2tG"),c=r("5aMe"),u=r("i9ma"),s=r("4GhJ"),f=r("ndho"),v=r("3Ygs"),p=r("ZJAR"),l=r("U/GP"),d=r("laT0"),g=r("C4jv"),b=r("AOcB"),O=r("rdO9"),h=r("SGZ1");function m(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function w(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){m(a,n,o,i,c,"next",t)}function c(t){m(a,n,o,i,c,"throw",t)}i(void 0)}))}}function D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?D(Object(r),!0).forEach((function(e){_(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var T=new O.a(sessionStorage),j={name:"SaveDoctorApp",components:{DpButton:o.a,DpIconHeart:c.a,DpIconHeartFilled:u.a,DpSpinner:i.a},mixins:[g.a],props:{context:{required:!0,type:String},doctorId:{required:!0,type:[Number,String]},showNotifications:{required:!0,type:Boolean}},data:function(){return{detector:null,isLoading:!1}},computed:y(y({},Object(n.c)(v.a,{favoriteDoctors:p.a})),{},{isMobile:function(){return this.detector&&this.detector.isActive([a.D,a.C])},isDoctorSaved:function(){return 0!==this.favoriteDoctors.length&&this.favoriteDoctors.includes(this.doctorId)},buttonData:function(){return this.isDoctorSaved?{icon:"dp-icon-heart-filled",color:"secondary",text:this.$trans("saved")}:{icon:"dp-icon-heart",color:"gray-900",text:this.$trans("save")}},showButtonText:function(){return this.context===f.a||!this.isMobile}}),created:function(){this.registerStoreModule(v.a,d.a),this.autoSaveDoctor()},mounted:function(){this.detector=Object(b.a)()},methods:y(y({},Object(n.b)(v.a,{favoriteDoctorSave:l.b,favoriteDoctorRemove:l.a})),{},{autoSaveDoctor:function(){var t=T.getItem(f.c);this.$config.isLogged()&&this.doctorId===t&&!this.isDoctorSaved&&this.toggleFavoriteDoctor(t,!0)},clickHandler:function(){var t=this;return w(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$gateKeeper.hasAccess(h.pb)&&!t.$config.isLogged()?t.toggleSsoLoginModal():t.toggleFavoriteDoctor(t.doctorId);case 1:case"end":return e.stop()}}),e)})))()},removeFavoriteDoctor:function(t){var e=this;return w(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.favoriteDoctorRemove(t);case 2:e.toggleNotification(!1),Object(s.a)(f.b,document,t);case 4:case"end":return r.stop()}}),r)})))()},saveFavoriteDoctor:function(t){var e=this;return w(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.favoriteDoctorSave(t);case 2:e.toggleNotification(!0),e.$gtm.pushEvent({category:"save_doctor",action:"click_save_".concat(e.context),label:t});case 4:case"end":return r.stop()}}),r)})))()},scrollToTarget:function(t){var e=document.querySelector('[data-uniq-id="result-item-'.concat(t,'"]'));if(e){var r=e.getBoundingClientRect().top-100;window.scrollTo(0,r)}},toggleFavoriteDoctor:function(t,e){var r=this;return w(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&r.scrollToTarget(t),n.prev=1,r.isLoading=!0,!r.isDoctorSaved){n.next=8;break}return n.next=6,r.removeFavoriteDoctor(t);case 6:n.next=10;break;case 8:return n.next=10,r.saveFavoriteDoctor(t);case 10:return n.prev=10,r.isLoading=!1,e&&T.removeItem(f.c),n.finish(10);case 14:case"end":return n.stop()}}),n,null,[[1,,10,14]])})))()},toggleSsoLoginModal:function(){var t={doctorId:this.doctorId};Object(s.a)(f.d,document,t)},toggleNotification:function(t){if(this.showNotifications){var e=this.$config.getAppConfig().ROUTES.FAVORITE_DOCTORS_LIST,r=t?this.$trans("save_doctor_toaster_saved"):this.$trans("save_doctor_toaster_removed"),n='<a href="'.concat(e,'">').concat(this.$trans("save_doctor_toaster_link"),"</a>"),o="".concat(r," ").concat(n);this.$notifications.success("",o)}}})},R=(r("w6I6"),r("KHd+")),x=Object(R.a)(j,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"button-save-doctor d-flex align-items-center p-0",attrs:{"data-id":"button-save-doctor",disabled:t.isLoading},on:{click:t.clickHandler}},[r("div",{staticClass:"d-flex",class:{"mr-0-5":t.showButtonText}},[t.isLoading?r("dp-spinner",{attrs:{size:"sm"}}):r(t.buttonData.icon,{tag:"component",attrs:{color:t.buttonData.color}})],1),t._v(" "),t.showButtonText?r("span",[t._v(t._s(t.buttonData.text))]):t._e()])}),[],!1,null,"161158c1",null);e.a=x.exports}}]);